粗略的统计了一下，目前主流的多渠道接入SDK方案有以下几种：

**易接SDK AnySDK U8SDK 棱镜SDK
QuickSDK OKSDK 刀刀支付 指针SDK
掌趣SDK KINSIDE SuperSDK 快发助手**

那么本次调研也就围绕这几个展开。


## 整体对比

名称/比较项目|易接SDK|AnySDK|U8SDK|棱镜SDK|QuickSDK|OKSDK|刀刀支付|指针SDK|掌趣SDK|KINSIDE|SuperSDK|快发助手|
-----|----|----|----|----|---|---|----|---|---|---|---|---|---|---|---|---|
支持平台|Android和iOS|Android和iOS|Android和iOS|Android和iOS|Android和iOS|Android和iOS|Android|Android|Android和iOS|Android和iOS|Android和iOS|Android和iOS|
渠道数量|Android：224 iOS:19|Android：304 iOS:35|Android：40 iOS:17|Android：140 iOS:17 |Android：161 iOS:17|Android:30 iOS:未知 | Andorid：未知 | Android：77 |Android:113 iOS:16 |共计17家|Android：67  iOS:14|总计122家|
SDK最后更新时间|Android：2016年4月20日<br>iOS:2016年4月20日|
何处打包|

## 技术原理

所有此类SDK经过研究发现，架构基本类似，使用原理也基本一致，差异主要集中在一些特殊功能的集成上和支持渠道数量。

客户端SDK主要负责两件事情：登录和支付。具体原理也分这两块来分析：

#### 登录

相比较单纯的业务SDK，除了常见的SDK部分、SDK服务端、游戏、游戏服务端这一部分来说，多了一层渠道SDK服务端。客户端接入渠道SDK框架，根据当前具体是哪个SDK渠道，调用登陆界面，然后传入用户名和密码，进行SDK登陆操作。SDK登陆成功，返回用户唯一标示。渠道SDK拿着用户唯一标示和渠道信息去访问渠道SDK服务端进行认证，渠道SDK服务端再去对应的SDK服务端进行认证，SDK服务器认证成功，会返回SDK服务器那边的用户信息。渠道SDK服务端拿到用户信息，生成统一的用户信息并存储，然后紧接着返回一个有效的Token。客户端拿着Token去访问游戏服务器，游戏服务器再拿着这个token去渠道SDK服务端进行认证，渠道SDK服务端判定token有效则返回给服务器当前用户的用户信息，当游戏服务器拿到用户信息，证明当前登陆成功，返回给客户端服务器列表等数据，登陆成功。

#### 支付

与登陆类似，不过差异在于渠道SDK在支付成功阶段，渠道SDK服务端会异步通知游戏开发商设置的支付回调地址，并不像登陆过程中整个业务流程都是同步的。

综合来说，就相当于原来是三者沟通变成四者沟通，出现了渠道SDK服务端这个中间代理人。SDK服务端已经不会直接和游戏服务端接触了，所有都是要经过渠道SDK服务端。

#### 打包

这一块是实现多渠道打包的关键，Android和iOS在此处存在根本上的差异，不像前两块登陆和支付一样在不同平台上具备同样的业务抽象层次。

在**Android**平台上主要做的操作：
- 接入渠道SDK的抽象框架，生成母包
- 打包工具使用apktool等反编译工具解开母包，反编译到该渠道对应的临时工作目录中
- 重新命名包名，并根据渠道设置，拷贝对应渠道所需的SDK资源
- 合并AndroidManifeast.xml文件汇总所必须的参数
- 重新打包

在**iOS**平台上主要做的操作：
- 接入渠道SDK抽象框架
- 渠道所需SDK资源文件
- 修改xc

## 易接SDK

- 优点：渠道数量众多，另外技术架构上比较简单，潜在出现bug 可能性较低.服务端可以拿来二次开发，可以满足自定义的业务需求
- 缺点：

## U8SDK

- 优点：相当于购买了源码，方便我们自己二次修改开发，增加新渠道；本地工具打包，避免了云端打包可能存在的源码泄漏问题。
- 缺点：渠道数量不多，技术支持薄弱。

由于需要付费才能获取SDK安装包，所以具体SDK功能无法深入调查，但从技术原理来看，跟其他几家并没有多少差异，所以具备技术可行性。

## 



